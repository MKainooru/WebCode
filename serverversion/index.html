<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./css/Element-ui.css" />
    <link rel="stylesheet" type="text/css" href="./css/index.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
    />
    <script src="./js/vue.js" type="text/javascript" charset="utf-8"></script>
    <script src="./js/element-ui.js"></script>
    <script src="./js/axios.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  </head>

  <body>
    <div id="app">
      <el-descriptions title="服务器 ID" :colon="false">
        <el-descriptions-item> {{ ServerId }} </el-descriptions-item>
      </el-descriptions>
      <el-descriptions title="Docker" :colon="false">
        <el-descriptions-item label="Base Name">
          {{ Docker.BaseName }}
        </el-descriptions-item>
        <el-descriptions-item label="Base Tag">
          {{ Docker.BaseTag }}
        </el-descriptions-item>
        <el-descriptions-item label="Base Build At">
          {{ Docker.BaseBuildAt }}
        </el-descriptions-item>
        <el-descriptions-item label="Biz Name">
          {{ Docker.BizName }}</el-descriptions-item
        >
        <el-descriptions-item label="Biz Tag">
          {{ Docker.BizTag }}</el-descriptions-item
        >
      </el-descriptions>
      <el-table
        ref="singleTable"
        :data="Assemblies"
        highlight-current-row
        style="width: 100%"
        height=""
        border
        @sort-change="changeSort"
        :default-sort="{prop: 'date', order: 'ascending'}"
      >
        <el-table-column type="index" width="50"> </el-table-column>
        <el-table-column
          property="Name"
          label="动态库名称"
          sortable
          :sort-orders="['ascending', 'descending']"
        ></el-table-column>
        <el-table-column
          property="CodeBase"
          label="运行路径"
          sortable
          :sort-orders="['ascending', 'descending']"
        ></el-table-column>
        <el-table-column
          property="Description"
          label="描述"
          sortable
          :sort-orders="['ascending', 'descending']"
        ></el-table-column>
        <el-table-column
          property="Version"
          label="版本"
          sortable
          :sort-orders="['ascending', 'descending']"
        ></el-table-column>
      </el-table>
    </div>
  </body>
  <script type="text/javascript">
    new Vue({
      el: "#app",
      data: function () {
        return {
          ServerId: "",
          Docker: {
            BaseName: "",
            BaseTag: "",
            BaseBuildAt: "",
            BizName: "",
            BizTag: "",
          },
          Assemblies: [],
        };
      },
      created() {
        // 获取JSON数据并填充
        axios
          .get("https://k5.kivii.org/server/version.json", {
            auth: {
              username: "gj",
              password: "Www.K1v11.Com",
            },
          })
          .then((response) => {
            console.log("JSON Data:", response.data);
            this.serverId = response.data.serverId;
            this.docker = response.data.docker;
            this.libraries = response.data.libraries;
          })
          .catch((error) => {
            console.error("Error fetching data:", error);
          });
      },
      computed: {},
      mounted() {},
      methods: {
        changeSort(val) {
          console.log(val);
        },
      },
    });
  </script>
</html>
